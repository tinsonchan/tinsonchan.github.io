---
title: 物理球球小游戏开发过程中遇到的问题
comments: false
categories:
  - 技术
date: 2018-06-05 23:48:41
tags:
  - 小游戏
---

从过年回来到现在，不知不觉接触白鹭已经有三四个月了，而这段时间也把《物理弹球正版》的h5版本做起来了，不说收益，只说活跃用户的化，我也满足了，日活百万，这是工作这么久做的第一款这么多人玩的游戏。
项目从一个人到多个人，从一个简单的小游戏到现在的集合多个系统模块的游戏，现在维护起来有一定的困难，合作也不是特别的流畅，所以这里把这一个过程捋一下，也算是给自己一个教训吧。
<!--more-->

### 技术的选择 ###
在开发这款游戏之前，我没做过任何相关的h5游戏，而基于自己对h5的一点点兴趣，也对着方面有一点的关注，只是没有很深入的理解。也没有实际的应用。基于老板的一个需求，纯粹的一个需求，没有技术的强制性要求。
对于一个程序员而言，肯定是对目前比较好的几个引擎做一番比较，主要包括cocos-js，egret，laya这三款国内比较出名的引擎，我会从几个方面比较：
1.门槛如何，因为这个会决定使用人群的数量以及后面扩展的问题
2.技术是否满足需求
3.是否很方便的打出多个版本
4.是否是一门方便使用的语言

综合以上几个因素，我选择了白鹭egret，因为这个我觉得任何一个实习生花几天时间就可以入门了，其次它可以帮我们打出h5原生，微信，qq玩一玩，fb多个平台的版本，再者就是typescript语言，可以在开发的编译过程我就发现错误。

### 白鹭的使用 ###
这部分主要是说明一下自己在使用白鹭的过程。
1.入门。按照官方的文档，一步步的创建项目，然后初步把一个项目跑起来。
2.eui。这是一个很重要的一部分，会影响你后面开发是否很便利。这个用起来还好，但是还不是十分的流畅。而有一个第三方的插件，好像叫fairgui，试了一下，这个会比官方的好用一点吧，但是知道这个的时候，项目已经开展起来了，只能放到后面去了。
3.物理引擎的使用。官方推荐的是p2。但是在项目搭建起来的时候，整体的效果并不是十分的理想，此时想着要么优化物理引擎，要么就是换掉它。优化，我的能力达不到这种标准，只能寄望于第二种想法了。在论坛搜了一下，发现很多人提到了matter，于是尝试去把这个集合起来。这过程有点痛苦，但是最后的效果还是不错的，起码玩起来很爽。

### 项目的发布 ###
项目发布了，我们选择微信小游戏平台，这里一路走来也是泪流满面呀。我们被独代了，可以抱大腿了。但是也是考验的时刻到了，各种优化需求，各种数据调整，还有各种新的需求的加入，整个人被透支了，连续好多天都是到两三点，甚至三四点才能休息，这时候感觉整个人都要奔溃了。
此时老板说，招了一个主程，后面会加入到这个项目的开发。另外就是派了一个架构师级别的人来帮忙。此时，技术开发由原来的一个我变成了三个人，据说后面还会陆续加入两个小伙伴。
此时项目组的弊端暴露得清清楚楚了：
1.项目一定要有一个清晰的框架，因为你不知道你的项目是不是真的是小游戏，也许会被发展成一个庞然大物，此时如果没有框架，耦合度非常高导致整个项目寸步难移，难以往下发展。
2.一定要有一个清晰的分工，不然因为人员的加入，有可能几个人同时解决一个问题，而某些问题却没有人解决。
3.一定要有一个清晰的目标，明确到什么时候会封板，而接下来的开发分别在哪个分支上处理。这是非常重要的，不然会引起工作的混乱。而版本也无法出来。
4.重构的工作，一定是让对项目十分清晰的人去处理的，不然会重构出一大推bug，导致整个项目问题更多。


### 下一个项目的规划 ###
1.技术的选择，有可能继续还是白鹭，也可能会扩散到其他家，cocos，laya，或者国外的phaser
2.框架选择，一定是一个明确的mvc框架，至于服务器，我想选择go的leaf框架
3.版本控制，基于公司的原因，继续使用svn，不过私下会以git作为辅助开发的。
4.游戏类型，一定是联网的，兼容单机玩法，不然跟不上技术的发展了。



----------
追求卓越 成功就会在不经意间追上你